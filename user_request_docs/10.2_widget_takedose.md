# Take Dose Dialog

## Notes
- This will be a working document for the Take Dose dialog widget.

## Checklist (from Dose Cards doc)
- [x] Remove divider under helper text
- [x] Remove grey chips
- [x] Center status chips + color coordinate them
- [x] Dose card status icon updates live as status changes
- [x] If a MDV, Single Dose Vial or Pre Filled syringe, show syringe graphic + multi-value dose rules
- [x] Helper text is instructional (not "change status if you need to correct")
- [x] Cards within cards: match the standard dialog styling
- [x] Edit Historical Dose uses the same style as Ad-hoc
- [x] Ad-hoc dose: units slider saves state
- [x] Ad-hoc dose: units remove trailing 0 / whole numbers
- [x] Ad-hoc dose: slider tap-to-jump

## Status (Implemented)
- [x] Heading + helper text
- [x] Dose section shows a DoseCard when details available (fallback summary otherwise)
- [x] Status selection chips + Save & Close flow
- [x] Notes field
- [x] Date & Time editing (for historical doses / existing logs)
- [x] Ad-hoc amount editing (stepper)

## Status (Pending)
- [x] Remove divider under helper text
- [x] MDV/syringe visual graphic + multi-value dose presentation rules
- [x] Snooze-until picker + prevent snoozing past next dose
- [x] Center status chips + finalize per-status color behavior (taken/snoozed/skipped)

- [x] Naming concept: "Take dose" dialog (widget: DoseActionSheet).

- [x] Begin with same style as the Medication Details Screen - Edit Strenght DIalog. This Background colour, Font styling and everything is to be the system design for ALL DIALOGS.

- [x] The Features required for this Dialog are:
    - [x] Even though we are trakcing doses, we are not forcing the user into any specific dose regimen. Even though we state here is the dose, time and date, the user can edit it all at the time of taking the dose if they like. the main purposes is to track the dose accurately. SO if they want to increase the dose and set it back 4 hours they can.
    - [x] Heading with helper text
    - [x] Dose Instructions
        - [x] The Medicine Name
        - [x] The Dose
            - [x] In all available values formulated.
                - [x] Tablet - Strenght in mcg, mg, or g, Tablets
                - [x] Capsule - Strenght mcg, mg, or g, Capsules
                - [x] Pre-Filled-Syringe - Strenght in mcg, mg, or g, Volume in mL, IU medicine Internaitonal Units, and Syringe volume in Units
                - [x] Single Use Vials - Strenght in mcg, mg, or g, Volume in mL, IU medicine Internaitonal Units, and Syringe volume in Units
                - [x] Multi Dose Vials - Strenght in mcg, mg, or g, Volume in mL, IU medicine Internaitonal Units, and Syringe volume in Units
            - [x] MDV:
                - [x] The syringe graphic to inform the user how much visually
    - [x] The Schedule name
    - [x] The Schduled Date and Time
    - [x] The Dose Status
    - [x] Dose status buttons
    - [x] Date Change
    - [x] Time Change
    - [x] Notes
    - [x] Dose change

- [x] Status Changes
    - [x] Take
        - [x] Take Dose button Marks Dose as taken.
        - [x] Take Dose button Becomes Green.
        - [x] Status Icon is Taken.
        - [x] Date Icon turns green colour.
        - [x] Deducts Dose from active medication stock
    - [x] Snooze
        - [x] Snooze Button changes colour to an Orange.
        - [x] Marks Dose as Snoozed.
        - [x] Status Icon is Snoozed.
        - [x] Date Icon changes to Orange
        - [x] Snooze Time Picker appears for time until.
        - [x] Cannot Snooze past the next scheduled dose, will throw an alert.
    - [x] Skip
        - [x] Skip button becomes Red
        - [x] Marks Dose as Skipped.
        - [x] Status Icon is Skipped.
        - [x] Date Icon changes to Red
    

- [x] Missed and disabled are not statuses to set from teh take Dose Widget. But, if a historical Dose is marked Untaken, it will be marked as Missed.
    - [x] Missed
        - [x] Marks Dose as Missed.
        - [x] Status Icon is Missed.
        - [x] Date Icon changes to Dark Red
    - [x] Disabled
        - [x] Marks Dose as Disabled
        - [x] Status Icon is Disabled
        - [x] Date Icon changes to grey.

